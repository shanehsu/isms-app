<form (ngSubmit)="submit_revision()" #revisionForm="ngForm">
  <div class="form-group row">
    <label for="id" class="col-sm-2 form-control-label">ID</label>
    <div class="col-sm-10">
      <p class="form-control-static">{{_revision?._id}}</p>
    </div>
  </div>

  <div class="form-group row">
    <label for="revision" class="col-sm-2 form-control-label">版本</label>
    <div class="col-sm-10">
      <input type="number" min="1.0" step="0.1" class="form-control" [(ngModel)]="_revision.revision" ngControl="revision" required>
    </div>
  </div>

  <div class="form-group row">
    <label for="signatures" class="col-sm-2 form-control-label">簽核次數</label>
    <div class="col-sm-10">
      <input type="number" min="0" class="form-control" [(ngModel)]="_revision.signatures" ngControl="signatures">
    </div>
  </div>

  <div class="form-group row">
    <label for="group" class="col-sm-2 form-control-label">權限</label>
    <div class="col-sm-10">
      <label class="radio-inline">
        <input type="radio" name="groupRadio" value="1" [checked]="_revision.group == 1" (change)="_revision.group = 1"> 管理員
      </label>
      <label class="radio-inline">
        <input type="radio" name="groupRadio" value="2" [checked]="_revision.group == 2" (change)="_revision.group = 2"> 資訊安全人員
      </label>
      <label class="radio-inline">
        <input type="radio" name="groupRadio" value="3" [checked]="_revision.group == 3" (change)="_revision.group = 3"> 一般使用者
      </label>
    </div>
  </div>

  <div class="form-group row">
    <label for="secrecyLevel" class="col-sm-2 form-control-label">機密性</label>
    <div class="col-sm-10">
      <label class="radio-inline">
        <input type="radio" name="secrecyLevelRadio" value="1" [checked]="_revision.secrecyLevel == 1" (change)="_revision.secrecyLevel = 1"> 機密
      </label>
      <label class="radio-inline">
        <input type="radio" name="secrecyLevelRadio" value="2" [checked]="_revision.secrecyLevel == 2" (change)="_revision.secrecyLevel = 2"> 敏感
      </label>
      <label class="radio-inline">
        <input type="radio" name="secrecyLevelRadio" value="3" [checked]="_revision.secrecyLevel == 3" (change)="_revision.secrecyLevel = 3"> 限閱
      </label>
      <label class="radio-inline">
        <input type="radio" name="secrecyLevelRadio" value="4" [checked]="_revision.secrecyLevel == 4" (change)="_revision.secrecyLevel = 4"> 一般
      </label>
    </div>
  </div>

  <button type="button" class="btn btn-danger" (click)="delete_revision()">刪除</button>
  <div class="pull-xs-right">
    <button type="submit" [disabled]="!revisionForm.form.valid" class="btn btn-primary">更新</button>
  </div>
</form>
<p></p>
<div class="card">
  <div class="card-block">
    <h4 class="card-title">表單欄位</h4>
    <p class="card-text text-muted"><small>表單欄位是存在表單版本內的。</small></p>
  </div>
  <div class="list-group list-group-flush">
    <field-form *ngFor="#field of _revision.fields" [form]="_formID" [revision]="_revision._id" [field]="field" (fieldDidDelete)="reload_fields()"></field-form>
  </div>
  <div class="card-block text-xs-center">
    <a class="btn btn-primary" (click)="new_field()">新增欄位</a>
  </div>
</div>