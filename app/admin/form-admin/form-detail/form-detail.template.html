<div class="card">
  <div class="card-block">
    <h3 class="card-title">表單資訊</h3>
    <br>
    <form (ngSubmit)="submit()" #formForm="ngForm">
      <div class="form-group row">
        <label for="id" class="col-sm-2 form-control-label">ID</label>
        <div class="col-sm-10">
          <p class="form-control-static">{{_form?._id}}</p>
        </div>
      </div>
      <div class="form-group row">
        <label for="date" class="col-sm-2 form-control-label">表單 ID</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" [(ngModel)]="_form.identifier" ngControl="identifier" required>
        </div>
      </div>
      <div class="form-group row">
        <label for="name" class="col-sm-2 form-control-label">名稱</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" [(ngModel)]="_form.name" ngControl="name" required>
        </div>
      </div>

      <br>

      <button type="button" class="btn btn-secondary" (click)="cancel()">取消</button>

      <div class="pull-xs-right">
        <button type="submit" [disabled]="!formForm.form.valid" class="btn btn-primary">更新</button>
      </div>
    </form>
  </div>
</div>

<div class="card">
  <div class="card-block">
    <h3 class="card-title">表單版本</h3>
    <br>
    <ul class="nav nav-tabs">
      <template ngFor #revision [ngForOf]="_revisions">
        <li class="nav-item">
          <a class="nav-link" [class.active]="isActiveRevision(revision?._id)" (click)="edit_revision(revision._id)">{{revision?.revision}}</a>
        </li>
      </template>
      <li class="nav-item">
        <a class="nav-link" (click)="new_revision()"><i class="fa fa-plus"></i></a>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" role="tabpanel">
        <form (ngSubmit)="submit_revision()" #revisionForm="ngForm">
          <p>{{_revision | json}}</p>
          
          <br>
          
          <button type="button" class="btn btn-danger" (click)="delete_revision()">刪除</button>

          <div class="pull-xs-right">
            <button type="submit" [disabled]="!revisionForm.form.valid" class="btn btn-primary">更新</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="card">
  <div class="card-block">
    {{_form | json}}
  </div>
</div>

<div class="card">
  <div class="card-block">
    {{_revisions | json}}
  </div>
</div>
