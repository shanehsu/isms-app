<div class="card">
  <div class="card-block">
    <h3 class="card-title">表單資訊</h3>
    <br>
    <form (ngSubmit)="submit()" #formForm="ngForm">
      <div class="form-group row">
        <label for="id" class="col-sm-2 form-control-label">ID</label>
        <div class="col-sm-10">
          <p class="form-control-static">{{_form?._id}}</p>
        </div>
      </div>
      <div class="form-group row">
        <label for="identifier" class="col-sm-2 form-control-label">表單 ID</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" [(ngModel)]="_form.identifier" ngControl="identifier" required>
        </div>
      </div>
      <div class="form-group row">
        <label for="name" class="col-sm-2 form-control-label">名稱</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" [(ngModel)]="_form.name" ngControl="name" required>
        </div>
      </div>

      <br>

      <button type="button" class="btn btn-secondary" (click)="cancel()">取消</button>

      <div class="pull-xs-right">
        <button type="submit" [disabled]="!formForm.form.valid" class="btn btn-primary">更新</button>
      </div>
    </form>
  </div>
</div>

<div class="card">
  <div class="card-block">
    <h3 class="card-title">表單版本</h3>
    <br>
    <ul class="nav nav-tabs">
      <template ngFor let-revision [ngForOf]="_revisions">
        <li class="nav-item">
          <a class="nav-link" [class.active]="isActiveRevision(revision)" (click)="select_revision(revision)">{{revision?.revision.toFixed(1)}}</a>
        </li>
      </template>
      <li class="nav-item">
        <a class="nav-link" (click)="new_revision()"><i class="fa fa-plus"></i></a>
      </li>
    </ul>
    <p></p>
    
    <div class="container" [ngSwitch]="_revisions.length">
      <p class="card-text text-muted" *ngSwitchWhen="0"><small>目前沒有表單版本。</small></p>
      <revision-form [form-id]="_id" [revision]="_revision" (revisionDidUpdate)="reload_revision()" (formDidUpdate)="reload_revisions(true)" *ngSwitchDefault>
      </revision-form>
    </div>
  </div>
  
</div>


